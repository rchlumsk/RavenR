<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Monthly Volume Bias — rvn_monthly_vbias • RavenR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Monthly Volume Bias — rvn_monthly_vbias"><meta property="og:description" content="Creates a plot of the monthly volume biases in the simulated
flow series."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RavenR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Introduction_to_RavenR.html">Introduction to RavenR</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rchlumsk/RavenR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Monthly Volume Bias</h1>
    <small class="dont-index">Source: <a href="https://github.com/rchlumsk/RavenR/blob/HEAD/R/rvn_monthly_vbias.R" class="external-link"><code>R/rvn_monthly_vbias.R</code></a></small>
    <div class="hidden name"><code>rvn_monthly_vbias.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a plot of the monthly volume biases in the simulated
flow series.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rvn_monthly_vbias</span><span class="op">(</span></span>
<span>  <span class="va">sim</span>,</span>
<span>  <span class="va">obs</span>,</span>
<span>  add_line <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  normalize <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  incomplete_month <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>sim</dt>
<dd><p>time series object of simulated flows</p></dd>


<dt>obs</dt>
<dd><p>time series object of observed flows</p></dd>


<dt>add_line</dt>
<dd><p>optionally adds a horizontal line to the plot for reference
(default <code>TRUE</code>)</p></dd>


<dt>normalize</dt>
<dd><p>option to normalize the biases and report as percent error
(default <code>TRUE</code>)</p></dd>


<dt>add_labels</dt>
<dd><p>optionally adds labels for early peak/late peaks on right
side axis (default <code>TRUE</code>)</p></dd>


<dt>incomplete_month</dt>
<dd><p>whether to include months with missing days in the summation
(default <code>FALSE</code>)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <dl><dt>mvbias</dt>
<dd><p>monthly volume biases</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Calculates the monthly volume biases and optionally creates a
plot of them. The monthly volume biases are averaged across all years of
data. If normalized, the biases are calculated as:</p>
<p>(Vi_sim - Vi_obs)/Vi_obs*100</p>
<p>to be expressed as a percent error.</p>
<p>The sim and obs should be of time series (xts) format and are assumed to be
of the same length and time period. The flow series are assumed to be daily
flows with units of m3/s. Note that a plot title is purposely omitted in
order to allow the automatic generation of plot titles.</p>
<p>The add_labels will add the labels of 'overestimated' and 'underestimated'
to the right hand side axis if set to <code>TRUE</code>. This is useful in interpreting
the plots. Note that the biases are calculated as sim_Volume - obs_Volume,
which means that negative values mean the volume is underestimated, and
positive values mean the volume is overestimated.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="rvn_annual_volume.html">rvn_annual_volume</a></code> to create a scatterplot of annual flow
volumes</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># load sample hydrograph data, two years worth of sim/obs</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">rvn_hydrograph_data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="va">rvn_hydrograph_data</span><span class="op">$</span><span class="va">hyd</span><span class="op">$</span><span class="va">Sub36</span></span></span>
<span class="r-in"><span><span class="va">obs</span> <span class="op">&lt;-</span> <span class="va">rvn_hydrograph_data</span><span class="op">$</span><span class="va">hyd</span><span class="op">$</span><span class="va">Sub36_obs</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check the monthly volume bias; normalizes by default</span></span></span>
<span class="r-in"><span><span class="fu">rvn_monthly_vbias</span><span class="op">(</span><span class="va">sim</span>, <span class="va">obs</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of months excluded: 1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of months included: 23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $df.mvbias</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          mvbias</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Jan  26.4767246</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Feb -30.1912953</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mar  13.1917920</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Apr -29.6779258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> May -61.6461393</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Jun -55.1406116</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Jul -68.9622504</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aug -70.4903267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sep  33.0222767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Oct   0.8430192</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nov  81.6977124</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dec  25.5154499</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $plot</span>
<span class="r-plt img"><img src="rvn_monthly_vbias-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check unnormalzied monthly volume biases; see the larger volumes in certain periods</span></span></span>
<span class="r-in"><span><span class="fu">rvn_monthly_vbias</span><span class="op">(</span><span class="va">sim</span>,<span class="va">obs</span>,normalize <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of months excluded: 1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of months included: 23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $df.mvbias</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          mvbias</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Jan   11.544355</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Feb  -12.105343</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mar   62.659294</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Apr  -73.400235</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> May -194.812215</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Jun  -70.241846</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Jul  -34.557970</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Aug  -49.736272</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sep    7.026953</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Oct    0.850050</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nov  -38.586910</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dec  -26.795530</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $plot</span>
<span class="r-plt img"><img src="rvn_monthly_vbias-2.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Robert Chlumsky, James Craig, Leland Scantlebury, Simon Lin, Sarah Grass, Genevieve Brown, Rezgar Arabzadeh.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

