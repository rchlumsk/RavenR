<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extract function for Raven Reservoir object — rvn_res_extract • RavenR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extract function for Raven Reservoir object — rvn_res_extract"><meta property="og:description" content="rvn_res_extract is used for extracting data from the Raven reservoir object.
Works for objects from rvn_res_read function (for reading in the ReservoirStages.csv
file)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RavenR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Introduction_to_RavenR.html">Introduction to RavenR</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rchlumsk/RavenR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract function for Raven Reservoir object</h1>
    <small class="dont-index">Source: <a href="https://github.com/rchlumsk/RavenR/blob/HEAD/R/rvn_res_extract.R" class="external-link"><code>R/rvn_res_extract.R</code></a></small>
    <div class="hidden name"><code>rvn_res_extract.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>rvn_res_extract is used for extracting data from the Raven reservoir object.
Works for objects from <code><a href="rvn_res_read.html">rvn_res_read</a></code> function (for reading in the ReservoirStages.csv
file).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rvn_res_extract</span><span class="op">(</span>subs <span class="op">=</span> <span class="cn">NA</span>, res <span class="op">=</span> <span class="cn">NA</span>, prd <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>subs</dt>
<dd><p>column name for plotting/extracting</p></dd>


<dt>res</dt>
<dd><p>full reservoir data frame (including units) produced by res.read</p></dd>


<dt>prd</dt>
<dd><p>time period for plotting, as string. See details</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <dl><dt>sim</dt>
<dd><p>model simulation for specified column and period</p></dd>

<dt>obs</dt>
<dd><p>observed data for specified column and period</p></dd>

<dt>inflow</dt>
<dd><p>inflow simulation for specified column and period</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Extracts the modelled and observed data from a Raven
reservoir object by name reference. It is also easy to create plots of
modelled and observed data using this function. The simulated and observed
files are outputted regardless of whether a plot is created, for the
specified period.</p>
<p>The subs input is the name of the column desired for use; the most common
use of this will be for subbasins, where the names will be of the form
"subXX", for example "sub24".</p>
<p>The res object is the full reservoir object (res and units in one data
frame) created by the res.read function. Both the res and units are
required, since the units are placed onto the plots if one is created. This
is useful to at least see the units of the plotted variable, even if the
plot is later modified.</p>
<p>The prd input is used to specify a period for the plot and/or the data
output. The period should be specified as a string start and end date, of
the format "YYYY-MM-DD/YYYY-MM-DD", for example, "2006-10-01/2010-10-01". If
no period is supplied, the entire time series will be used.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="rvn_res_read.html">rvn_res_read</a></code> for reading in the Reservoirs.csv file and
creating the object required in this function. <code><a href="rvn_res_plot.html">rvn_res_plot</a></code> for
plotting the extracted stage time series</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ff</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,<span class="st">"ReservoirStages.csv"</span>, package<span class="op">=</span><span class="st">"RavenR"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read in Raven Reservoirs file, store into myres</span></span></span>
<span class="r-in"><span><span class="va">myres</span> <span class="op">&lt;-</span> <span class="fu"><a href="rvn_res_read.html">rvn_res_read</a></span><span class="op">(</span><span class="va">ff</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract stage using this function</span></span></span>
<span class="r-in"><span><span class="va">stage36</span> <span class="op">&lt;-</span> <span class="fu">rvn_res_extract</span><span class="op">(</span>subs<span class="op">=</span><span class="st">"sub36"</span>,res<span class="op">=</span><span class="va">myres</span>,prd<span class="op">=</span><span class="st">"2002-10-01/2003-10-01"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">stage36</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Length Class  Mode   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sim    366    xts    numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> obs    366    xts    numeric</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> inflow   0    -none- NULL   </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">stage36</span><span class="op">$</span><span class="va">sim</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Index                         sub36      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Min.   :2002-10-01 00:00:00   Min.   :206.6  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1st Qu.:2002-12-31 06:00:00   1st Qu.:209.4  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Median :2003-04-01 12:00:00   Median :210.1  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mean   :2003-04-01 12:00:00   Mean   :210.8  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3rd Qu.:2003-07-01 18:00:00   3rd Qu.:214.4  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Max.   :2003-10-01 00:00:00   Max.   :215.1  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example for precipitation</span></span></span>
<span class="r-in"><span><span class="va">precip</span> <span class="op">&lt;-</span> <span class="fu">rvn_res_extract</span><span class="op">(</span>subs<span class="op">=</span><span class="st">"precip"</span>,res<span class="op">=</span><span class="va">myres</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Robert Chlumsky, James Craig, Leland Scantlebury, Simon Lin, Sarah Grass, Genevieve Brown, Rezgar Arabzadeh.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

