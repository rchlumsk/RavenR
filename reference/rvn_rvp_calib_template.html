<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Rewrite rvp file with placeholder values — rvn_rvp_calib_template • RavenR</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Rewrite rvp file with placeholder values — rvn_rvp_calib_template"><meta property="og:description" content="Rewrites a Raven rvp file with placeholder parameter values."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RavenR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Introduction_to_RavenR.html">Introduction to RavenR</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rchlumsk/RavenR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Rewrite rvp file with placeholder values</h1>
    <small class="dont-index">Source: <a href="https://github.com/rchlumsk/RavenR/blob/HEAD/R/rvn_rvp_calib_template.R" class="external-link"><code>R/rvn_rvp_calib_template.R</code></a></small>
    <div class="hidden name"><code>rvn_rvp_calib_template.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Rewrites a Raven rvp file with placeholder parameter values.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rvn_rvp_calib_template</span><span class="op">(</span></span>
<span>  rvp_file <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rvp_outfile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ost_outfile <span class="op">=</span> <span class="st">"ostIn.txt"</span>,</span>
<span>  params_calibration <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  RavenParamsFile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"RavenParameters.dat"</span>, package <span class="op">=</span> <span class="st">"RavenR"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>rvp_file</dt>
<dd><p>path to the model *.rvp file</p></dd>


<dt>rvp_outfile</dt>
<dd><p>file path to rewritten rvp file</p></dd>


<dt>ost_outfile</dt>
<dd><p>file path to Ostrich input file</p></dd>


<dt>params_calibration</dt>
<dd><p>vector of parameters to include in the calibration</p></dd>


<dt>overwrite</dt>
<dd><p>whether to overwrite an existing template file (default <code>FALSE</code>)</p></dd>


<dt>RavenParamsFile</dt>
<dd><p>path to RavenParameters.dat file (default path points to file included with RavenR installation)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>TRUE</code> if the function executed successfully</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Here, the rvp file is replaced with generic placeholder values to create a template file, which is commonly required for model calibration.
Although parameters may be found in other Raven input files, this command focuses on the rvp file. Other parameters
(such as gauge corrections in RVT or subbasin-level corrections in the RVH file) must be done manually.</p>
<p>The Raven rvp file may be generated from the <code><a href="rvn_rvp_fill_template.html">rvn_rvp_fill_template</a></code> function.</p>
<p>The list of parameters to be calibrated may be provided by the user (via <code>params_calibration</code> argument), or determined by RavenR. The intent of this
function is to provide a functional example of an RVP template file that may be used in calibration,
not a high quality calibration with clever selection of parameters to use. It is highly recommended
to build from the RVP template file created using expert hydrologic modelling knowledge.</p>
<p>If <code>rvp_outfile</code> is not provided, Raven will attempt to write to the file prefix of the provided template file with a .rvp.tpl extension.
If there is a conflict with an existing file and <code>overwrite==FALSE</code>, the function will automatically overwrite a file
with the suffix "_ravenr_generated.rvp.tpl".</p>
<p>Similarly with <code>ost_outfile</code>, the parameter default/min/max values and other Ostrich inputs will be written
based on a default template file to the ostIn.txt (or other provided file name). If this is set to NULL, the file will
not be written.</p>
<p>The default parameter values come from the RavenParameters.dat file included with RavenR in the extdata folder. The
user may provide their own file with updated values if preferred. Note that the database files held in the RavenR
package are unofficial copies of those in the official Raven SVN, and any discrepancies should defer to the Raven SVN versions.</p>
<p>Any parameters not found in this file will be ignored and a warning provided.</p>
<p>If you find parameters not found by this function, please open an ticket on Github (<a href="https://github.com/rchlumsk/RavenR/issues" class="external-link">https://github.com/rchlumsk/RavenR/issues</a>).</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="rvn_rvi_getparams.html">rvn_rvi_getparams</a></code> to get parameter ranges from rvi.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># write rvp from template file</span></span></span>
<span class="r-in"><span><span class="va">rvp_tempfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext<span class="op">=</span><span class="st">".rvp"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="rvn_rvp_fill_template.html">rvn_rvp_fill_template</a></span><span class="op">(</span>rvi_file<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,<span class="st">"Nith.rvi"</span>, package<span class="op">=</span><span class="st">"RavenR"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      rvh_file<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,<span class="st">"Nith.rvh"</span>, package<span class="op">=</span><span class="st">"RavenR"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      rvp_template_file <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,<span class="st">"nithmodel.rvp_temp.rvp"</span>, package<span class="op">=</span><span class="st">"RavenR"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      rvp_out<span class="op">=</span><span class="va">rvp_tempfile</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># setup calibration rvp template and ostin file</span></span></span>
<span class="r-in"><span><span class="va">ost_tempfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext<span class="op">=</span><span class="st">".txt"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rvptpl_tempfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext<span class="op">=</span><span class="st">".rvp.tpl"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">rvn_rvp_calib_template</span><span class="op">(</span>rvp_file<span class="op">=</span><span class="va">rvp_tempfile</span>,</span></span>
<span class="r-in"><span>                       rvp_outfile<span class="op">=</span><span class="va">rvptpl_tempfile</span>,</span></span>
<span class="r-in"><span>                       ost_outfile<span class="op">=</span><span class="va">ost_tempfile</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>SNOW_SWI_MIN and SNOW_SWI_MAX parameters should be tied to ensure MIN &lt;= MAX</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>MIN_MELT_FACTOR and MAX_MELT_FACTOR parameters should be tied to ensure MIN &lt;= MAX</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Additional updates required to ostIn.txt, including renaming file pairs, checking diagnostics, etc.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Robert Chlumsky, James Craig, Leland Scantlebury, Simon Lin, Sarah Grass, Genevieve Brown, Rezgar Arabzadeh.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

